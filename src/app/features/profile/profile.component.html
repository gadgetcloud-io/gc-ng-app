<div class="holo-profile-page">
  <!-- Liquid Background -->
  <div class="liquid-background">
    <div class="liquid-blob blob-1"></div>
    <div class="liquid-blob blob-2"></div>
    <div class="liquid-blob blob-3"></div>
    <div class="gradient-mesh"></div>
  </div>

  <!-- Cyber Grid -->
  <div class="cyber-grid"></div>

  <!-- Main Container -->
  <div class="profile-container">
    <!-- Holographic Header -->
    <header class="holo-header">
      <div class="header-glow"></div>
      <div class="header-content">
        <h1 class="holo-title">My Profile</h1>
        <p class="holo-subtitle">Personal Information Management</p>
      </div>
    </header>

    <!-- Profile Card -->
    <div class="profile-card" *ngIf="user">
    <div class="card-glow"></div>
    <div class="card-scan-line"></div>

    <!-- Avatar Section -->
    <div class="avatar-section">
      <div class="avatar-container">
        <div class="avatar-ring"></div>
        <div class="avatar-inner">
          <span class="avatar-text">{{ getInitials() }}</span>
        </div>
      </div>
      <div class="user-badge">
        <div class="badge-inner" [style.background]="getRoleBadgeColor()">
          {{ user.role }}
        </div>
      </div>
    </div>

    <!-- Profile Info -->
    <div class="profile-info">
      <h2 class="user-name">{{ userDisplayName }}</h2>
      <p class="user-email">{{ user.email }}</p>
    </div>

    <!-- Edit/Save Buttons -->
    <div class="action-buttons">
      <button *ngIf="!editMode" class="neon-button primary" (click)="toggleEditMode()">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Edit Profile</span>
        <div class="button-glow"></div>
      </button>

      <div *ngIf="editMode" class="edit-actions">
        <button class="neon-button secondary" (click)="toggleEditMode()" [disabled]="loading">
          <span>Cancel</span>
          <div class="button-glow"></div>
        </button>
        <button class="neon-button primary" (click)="saveProfile()" [disabled]="loading">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M5 13l4 4L19 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>{{ loading ? 'Saving...' : 'Save Changes' }}</span>
          <div class="button-glow"></div>
        </button>
      </div>
    </div>
  </div>

  <!-- Details Section -->
  <div class="details-section" *ngIf="user">
    <div class="section-header">
      <h3 class="section-title">Personal Information</h3>
      <div class="title-line"></div>
    </div>

    <!-- View Mode -->
    <div *ngIf="!editMode" class="info-grid">
      <div class="info-item">
        <div class="info-glow"></div>
        <svg class="info-icon" viewBox="0 0 24 24" fill="none">
          <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <div class="info-content">
          <label class="info-label">Full Name</label>
          <p class="info-value">{{ userDisplayName || 'Not set' }}</p>
        </div>
      </div>

      <div class="info-item">
        <div class="info-glow"></div>
        <svg class="info-icon" viewBox="0 0 24 24" fill="none">
          <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <div class="info-content">
          <label class="info-label">Email Address</label>
          <p class="info-value">{{ user.email }}</p>
        </div>
      </div>

      <div class="info-item">
        <div class="info-glow"></div>
        <svg class="info-icon" viewBox="0 0 24 24" fill="none">
          <path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <div class="info-content">
          <label class="info-label">Mobile Number</label>
          <p class="info-value">{{ user.mobile || 'Not set' }}</p>
        </div>
      </div>

      <div class="info-item">
        <div class="info-glow"></div>
        <svg class="info-icon" viewBox="0 0 24 24" fill="none">
          <path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <div class="info-content">
          <label class="info-label">Account Role</label>
          <p class="info-value role-badge" [style.background]="getRoleBadgeColor()">{{ user.role }}</p>
        </div>
      </div>
    </div>

    <!-- Edit Mode -->
    <form *ngIf="editMode" class="edit-form" (ngSubmit)="saveProfile()">
      <div class="form-group">
        <label class="form-label">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>First Name</span>
        </label>
        <input type="text"
               class="holo-input"
               [(ngModel)]="formData.firstName"
               name="firstName"
               placeholder="Enter your first name"
               required>
      </div>

      <div class="form-group">
        <label class="form-label">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Last Name</span>
        </label>
        <input type="text"
               class="holo-input"
               [(ngModel)]="formData.lastName"
               name="lastName"
               placeholder="Enter your last name"
               required>
      </div>

      <div class="form-group">
        <label class="form-label">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Email Address</span>
        </label>
        <input type="email"
               class="holo-input"
               [(ngModel)]="formData.email"
               name="email"
               placeholder="your.email@example.com"
               disabled>
        <p class="field-hint">Email cannot be changed</p>
      </div>

      <div class="form-group">
        <label class="form-label">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Mobile Number</span>
        </label>
        <input type="tel"
               class="holo-input"
               [(ngModel)]="formData.mobile"
               name="mobile"
               placeholder="91 9876543210">
      </div>
    </form>
  </div>
  </div>

  <!-- Floating Holographic Particles -->
  <div class="holo-particles">
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
  </div>
</div>
